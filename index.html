<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>AI Prof Dali Nadjib</title>
  <style>
    body { font-family: Tahoma, Arial, sans-serif; background:#e6f2ff; text-align:center; padding:20px; }
    h1 { color:#004080; }
    textarea { width:80%; height:120px; margin:10px; padding:10px; border-radius:8px; border:1px solid #aaa; }
    button { padding:12px 25px; background:#008000; color:white; font-size:16px; border:none; border-radius:10px; cursor:pointer; }
    button:hover { background:#006600; }
    #result { margin-top:20px; padding:15px; background:#fff; border-radius:8px; box-shadow:0 0 5px rgba(0,0,0,0.2); text-align:right; direction:rtl; }
  </style>
</head>
<body>
  <h1>📘 AI Prof Dali Nadjib</h1>
  <p>أدخل موضوع المذكرة أو نوع الاختبار:</p>
  <textarea id="prompt" placeholder="مثال: أنشئ اختبار في الرياضيات حول المعادلات..."></textarea><br>
  <button onclick="generate()">إنشاء</button>

  <div id="result"></div>

  <script>
    async function generate() {
      const prompt = document.getElementById("prompt").value;
      const resultDiv = document.getElementById("result");
      resultDiv.innerHTML = "⏳ جاري الإنشاء...";

      try {
        const response = await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-pro:generateContent?key=AIzaSyCjeq7XI1uM2q9fkH1lVemkjhfAjfTVp1k", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            contents: [{ parts: [{ text: prompt }] }]
          })
        });

        const data = await response.json();
        const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "⚠️ لم يتم توليد أي نص.";
        resultDiv.innerHTML = `<b>📄 النتيجة:</b><br>${text.replace(/\n/g, "<br>")}`;
      } catch (error) {
        resultDiv.innerHTML = "❌ خطأ أثناء الاتصال بالـ API.";
      }
    }
  </script>
</body>
</html>
